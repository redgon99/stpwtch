# 프로젝트 개선 제안서

전문가 관점에서 분석한 보완이 필요한 부분들을 중요도 순으로 정리했습니다.

## 1. 🚨 보안 및 권한 관리 (가장 시급)
*   **문제점:** 현재 **누구나 '서버 모드'를 선택하여 특정 방(Room)을 제어**할 수 있습니다. 악의적인 사용자가 진행 중인 시험의 타이머를 조작하거나 리셋할 수 있는 치명적인 취약점이 있습니다.
*   **보완책:**
    *   **관리자 인증:** 서버 모드 진입 시 비밀번호나 별도의 관리자 로그인이 필요하도록 구현해야 합니다.
    *   **방 생성/삭제 기능:** 현재는 DB에 있는 방을 불러오기만 합니다. UI에서 새로운 방을 생성하고 관리하는 기능이 필요합니다.

## 2. 🏗 코드 구조 및 유지보수성
*   **문제점:** `app.js` 파일 하나에 모든 로직(타이머, UI, DB 통신)이 섞여 있어(1,000줄 이상) 유지보수가 어렵습니다. 전역 변수(`timer`, `isRunning` 등)가 많아 상태 추적이 힘듭니다.
*   **보완책:**
    *   **모듈화:** `timer.js` (타이머 로직), `supabase.js` (DB 통신), `ui.js` (화면 제어) 등으로 파일을 분리해야 합니다. (ES Modules 사용 권장)
    *   **상태 관리:** 전역 변수 대신 `State` 객체나 클래스를 사용하여 상태를 체계적으로 관리해야 합니다.

## 3. 📱 사용자 경험 (UX) 및 UI
*   **문제점:**
    *   오류나 알림 발생 시 `alert()` 창을 사용하여 사용자 경험을 저해합니다.
    *   방 목록이 많아질 경우 드롭다운 선택이 불편할 수 있습니다.
*   **보완책:**
    *   **Toast 알림:** `alert()` 대신 화면 상단/하단에 부드럽게 뜨는 Toast 메시지 구현.
    *   **방 검색/필터:** 방 번호로 검색하거나 활성화된 방만 필터링하여 보는 기능 강화.
    *   **로딩 인디케이터:** DB 연결이나 데이터 로딩 시 시각적인 피드백(스피너 등) 추가.

## 4. ⚡ 성능 및 안정성
*   **문제점:** 브라우저 탭이 백그라운드로 넘어가면 `setInterval`이 브라우저 정책에 의해 느려지거나 멈출 수 있습니다(Throttling). 타이머 시간이 실제 시간과 어긋날 수 있습니다.
*   **보완책:**
    *   **Web Worker 도입:** 타이머 로직을 메인 스레드가 아닌 Web Worker에서 실행하여 백그라운드에서도 정확한 시간을 유지하도록 개선해야 합니다.
    *   **재연결 로직 강화:** 네트워크 끊김 시 재연결 로직이 단순합니다. 사용자에게 "연결 끊김" 상태를 명확히 알리고, 자동 재접속 시도를 더 정교하게 처리해야 합니다.

## 5. 🔧 환경 설정
*   **문제점:** Supabase URL과 Key가 코드에 그대로 노출되어 있습니다.
*   **보완책:** 환경 변수(`.env`)를 사용하거나 별도의 설정 파일(`config.js`)로 분리하여 관리하는 것이 좋습니다.

---
작성일: 2025-11-20
